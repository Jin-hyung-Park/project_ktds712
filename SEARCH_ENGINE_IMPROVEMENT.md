# ê²€ìƒ‰ ì—”ì§„ ë¶„ë¦¬ ê°œì„  ì‚¬í•­

## ğŸ¯ ê°œì„  ëª©ì 

SR ìœ ì‚¬ë„ ê²€ìƒ‰ê³¼ ì¥ì•  ì—°ê´€ë„ ê²€ìƒ‰ì„ ë¶„ë¦¬í•˜ì—¬ ê°ê°ì˜ íŠ¹ì„±ì— ë§ê²Œ ìµœì í™”

## âœ… ì£¼ìš” ê°œì„  ì‚¬í•­

### 1. **ì±…ì„ ë¶„ë¦¬ (Separation of Concerns)**
- **SRSearchEngine**: SR ìœ ì‚¬ë„ ê²€ìƒ‰ ì „ìš©
- **IncidentSearchEngine**: ì¥ì•  ì—°ê´€ë„ ê²€ìƒ‰ ì „ìš©
- ê°ê° ë…ë¦½ì ì¸ ê²€ìƒ‰ ì „ëµê³¼ ì•Œê³ ë¦¬ì¦˜ ì ìš© ê°€ëŠ¥

### 2. **Azure AI Search ì¸ë±ìŠ¤ ë¶„ë¦¬**
```python
# ì„¤ì •ì—ì„œ ì´ë¯¸ ë¶„ë¦¬ë˜ì–´ ìˆìŒ
AZURE_SEARCH_INDEX_SR = "sr-index"          # SR ì „ìš© ì¸ë±ìŠ¤
AZURE_SEARCH_INDEX_INCIDENT = "incident-index"  # ì¥ì•  ì „ìš© ì¸ë±ìŠ¤
```

### 3. **ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ ìµœì í™”**

#### **SR ê²€ìƒ‰ (SRSearchEngine)**
- **í…ìŠ¤íŠ¸ ìœ ì‚¬ë„ (40%)**: SR ì œëª©, ì„¤ëª…, ê¸°ìˆ  ìš”êµ¬ì‚¬í•­ ì¢…í•©
- **ì‹œìŠ¤í…œ ì¼ì¹˜ë„ (15%)**: ë™ì¼ ì‹œìŠ¤í…œ ì—¬ë¶€
- **ì»´í¬ë„ŒíŠ¸ ì¼ì¹˜ë„ (25%)**: ì˜í–¥ë°›ëŠ” ì»´í¬ë„ŒíŠ¸ ê³µí†µ ì—¬ë¶€
- **ì¹´í…Œê³ ë¦¬ ì¼ì¹˜ë„ (10%)**: SR ì¹´í…Œê³ ë¦¬ ì¼ì¹˜
- **ìš°ì„ ìˆœìœ„ ìœ ì‚¬ë„ (10%)**: ìš°ì„ ìˆœìœ„ ë ˆë²¨ ìœ ì‚¬ì„±

#### **ì¥ì•  ê²€ìƒ‰ (IncidentSearchEngine)**
- **ì‹œìŠ¤í…œ ì¼ì¹˜ë„ (30%)**: ë™ì¼ ì‹œìŠ¤í…œ ì—¬ë¶€
- **ì»´í¬ë„ŒíŠ¸ ì¼ì¹˜ë„ (30%)**: ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ ê³µí†µ ì—¬ë¶€
- **í…ìŠ¤íŠ¸ ìœ ì‚¬ë„ (20%)**: ì œëª©, ì„¤ëª…, ê·¼ë³¸ ì›ì¸ í¬í•¨
- **ì¥ì•  ì‹¬ê°ë„ ê°€ì¤‘ì¹˜ (10%)**: Critical > High > Medium > Low
- **ì‹œê°„ ê°€ì¤‘ì¹˜ (10%)**: ìµœê·¼ ì¥ì• ì¼ìˆ˜ë¡ ë†’ì€ ê°€ì¤‘ì¹˜

### 4. **ì¶”ê°€ ë¶„ì„ ì •ë³´**

#### **SR ê²€ìƒ‰ ê²°ê³¼**
- `match_factors`: ë§¤ì¹˜ ìš”ì†Œ ìƒì„¸ ë¶„ì„
  - í…ìŠ¤íŠ¸ ìœ ì‚¬ë„
  - ì‹œìŠ¤í…œ ì¼ì¹˜ ì—¬ë¶€
  - ì»´í¬ë„ŒíŠ¸ ì¤‘ë³µ ê°œìˆ˜

#### **ì¥ì•  ê²€ìƒ‰ ê²°ê³¼**
- `temporal_relevance`: ì‹œê°„ì  ê´€ë ¨ì„± (ìµœê·¼/ì¤‘ê¸°/ì¤‘ì¥ê¸°/ê³¼ê±°)
- `risk_factors`: ë¦¬ìŠ¤í¬ ìš”ì†Œ ë¶„ì„
  - ì‹¬ê°ë„
  - ì˜í–¥ë°›ì€ ì‚¬ìš©ì ìˆ˜
  - ì¥ì•  ì§€ì† ì‹œê°„
  - ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸
  - ê·¼ë³¸ ì›ì¸
  - í•´ê²°ì±… ì¡´ì¬ ì—¬ë¶€

## ğŸ”§ ì‚¬ìš© ë°©ë²•

### ê¸°ë³¸ ì‚¬ìš© (ê¸°ì¡´ê³¼ ë™ì¼)
```python
from src.search_engine import SearchEngine
from src.data_loader import DataLoader

loader = DataLoader()
search_engine = SearchEngine(loader)

# SR ìœ ì‚¬ë„ ê²€ìƒ‰
similar_srs = search_engine.search_similar_srs(query_sr, top_k=5)

# ì¥ì•  ì—°ê´€ë„ ê²€ìƒ‰
related_incidents = search_engine.search_related_incidents(query_sr, top_k=5)
```

### ì „ìš© ì—”ì§„ ì§ì ‘ ì ‘ê·¼
```python
# SR ê²€ìƒ‰ ì—”ì§„ ì§ì ‘ ì‚¬ìš©
sr_searcher = search_engine.get_sr_searcher()
similar_srs = sr_searcher.search_similar(query_sr, top_k=5)

# ì¥ì•  ê²€ìƒ‰ ì—”ì§„ ì§ì ‘ ì‚¬ìš©
incident_searcher = search_engine.get_incident_searcher()
related_incidents = incident_searcher.search_related(query_sr, top_k=5)
```

## ğŸ“Š ê°œì„  íš¨ê³¼

### 1. **ê²€ìƒ‰ ì •í™•ë„ í–¥ìƒ**
- ê° ë°ì´í„° íƒ€ì…ì— íŠ¹í™”ëœ ì•Œê³ ë¦¬ì¦˜ ì ìš©
- ë” ì •í™•í•œ ìœ ì‚¬ë„/ì—°ê´€ë„ ê³„ì‚°

### 2. **ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ**
- ì±…ì„ì´ ëª…í™•íˆ ë¶„ë¦¬ë˜ì–´ ì½”ë“œ ìˆ˜ì • ìš©ì´
- ê° ê²€ìƒ‰ ì—”ì§„ì„ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ë° ê°œì„  ê°€ëŠ¥

### 3. **í™•ì¥ì„± í–¥ìƒ**
- ì‹¤ì œ Azure AI Search ì—°ë™ ì‹œ ê° ì¸ë±ìŠ¤ë³„ ìµœì í™” ê°€ëŠ¥
- ë²¡í„° ê²€ìƒ‰, í•„í„°ë§, ì •ë ¬ ë“± ê°ê° ë…ë¦½ì ìœ¼ë¡œ êµ¬ì„±

### 4. **ì„±ëŠ¥ ìµœì í™”**
- ê° ì¸ë±ìŠ¤ë³„ë¡œ ë‹¤ë¥¸ ê²€ìƒ‰ ì „ëµ ì ìš© ê°€ëŠ¥
- ìºì‹±, í”„ë¦¬í˜ì¹­ ë“± ê°œë³„ ìµœì í™”

## ğŸš€ í–¥í›„ ê°œì„  ë°©í–¥

### 1. **Azure AI Search ì‹¤ì œ ì—°ë™**
```python
# SR ì¸ë±ìŠ¤ìš© ë²¡í„° í•„ë“œ êµ¬ì„±
sr_vector_field = "description_vector"
sr_search_fields = ["title", "description", "technical_requirements"]

# ì¥ì•  ì¸ë±ìŠ¤ìš© ë²¡í„° í•„ë“œ êµ¬ì„±
incident_vector_field = "description_vector"
incident_search_fields = ["title", "description", "root_cause"]
```

### 2. **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰**
- í‚¤ì›Œë“œ ê²€ìƒ‰ + ë²¡í„° ê²€ìƒ‰ ì¡°í•©
- í•„í„°ë§ ì˜µì…˜ ì¶”ê°€

### 3. **ê²€ìƒ‰ ê²°ê³¼ ë­í‚¹ ê°œì„ **
- Learning to Rank ì ìš©
- ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ ë­í‚¹ ì¡°ì •

