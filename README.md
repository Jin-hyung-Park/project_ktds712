
# SR Impact Navigator+  
**SR 변경 영향도 및 장애연관 리스크 기반 과제 평가 AI**

---

## 🚀 프로젝트 개요
SR 문서와 장애 보고서를 결합하여, 과거 장애와의 연관도를 분석하고 리스크가 높은 개발요구사항을 자동 식별하는 Azure AI 기반 시스템입니다.

---

## 🎯 목표
- 신규 SR의 **영향도 예측**
- 과거 장애 보고서 기반 **리스크 평가**
- 유사 SR 및 장애사례를 기반으로 **개발/검증 가이드 제공**
- 위험도가 높은 **주요 과제 자동 선정**

---

## 🧩 주요 기능

| 기능 | 설명 | 사용 기술 |
|------|------|-----------|
| 🔍 SR 유사도 분석 | 신규 SR과 과거 SR 간의 의미 유사도 분석 | Azure AI Search(vector) |
| ⚙️ 장애연관도 평가 | SR과 장애 보고서 간의 연관도 분석 | Azure AI Search(semantic) |
| 📊 개선된 리스크 스코어링 | FMEA 기반 다차원 리스크 평가 | Python, LangChain |
| 🕒 시간 민감도 분석 | 최근 장애일수록 높은 리스크 가중치 | Python |
| 🏢 시스템 중요도 평가 | 비즈니스 중요도 기반 리스크 조정 | Python |
| 💡 개발/검증 가이드 | 유사 SR의 구현방안 및 검증방안 요약 제공 | Azure OpenAI |
| 🧾 주요 과제 추천 | 리스크가 높은 SR을 자동 정렬 및 표시 | Streamlit Dashboard |

---

## 🏗️ 아키텍처 구성

```text
[사용자 입력: 신규 SR 문서 또는 요약]
        ↓
[Azure Document Intelligence]
        ↓
[LangChain 파이프라인]
  1️⃣ SR → 유사 SR 검색 (AI Search)
  2️⃣ SR → 장애보고서 검색 (AI Search)
  3️⃣ 시스템 중요도 + 시간 민감도 분석
  4️⃣ FMEA 기반 다차원 리스크 계산
        ↓
[Azure OpenAI GPT]
  → 개발/검증 가이드 + 상세 리스크 리포트 생성
        ↓
[Streamlit UI Dashboard]
  → 리스크 등급별 시각화 + 우선순위 추천
```

---

## 🧮 개선된 리스크 계산 로직

### **FMEA 기반 다차원 리스크 평가**

**기본 리스크 요소 (각 0-1 정규화)**
- SR 유사도 (25%)
- 장애 연관도 (25%)  
- 시스템 중요도 (25%)
- 시간 민감도 (15%)
- SR 복잡도 (10%)

**시간 가중치**: 최근 장애일수록 높은 영향
**최종 리스크 스코어**: 기본 리스크 × 시간 가중치 × 심각도 배수

### **리스크 요소별 가중치**

| 요소 | 가중치 | 설명 | 점수 범위 |
|------|--------|------|-----------|
| **SR 유사도** | 25% | 과거 유사 SR과의 의미적 유사성 | 0-1 |
| **장애 연관도** | 25% | 관련 장애 보고서와의 연관성 | 0-1 |
| **시스템 중요도** | 25% | 비즈니스 중요도 (1-5등급) | 0-1 |
| **시간 민감도** | 15% | 최근 장애일수록 높은 영향 | 0-1 |
| **SR 복잡도** | 10% | 구현 복잡도에 따른 리스크 | 0-1 |

### **리스크 등급 분류**

| 리스크 점수 | 등급 | 색상 | 조치 |
|-------------|------|------|------|
| 0.8 이상 | 🔴 Critical | 빨강 | 즉시 검토 필요 |
| 0.6-0.8 | 🟠 High | 주황 | 우선 검토 |
| 0.4-0.6 | 🟡 Medium | 노랑 | 일반 검토 |
| 0.2-0.4 | 🟢 Low | 초록 | 모니터링 |
| 0.2 미만 | ⚪ Minimal | 회색 | 참고용 |

---

## 🗂️ 장애보고서 인덱스 예시

| 필드 | 설명 |
|------|------|
| Fault_ID | 장애 ID |
| Title | 장애 제목 |
| Description | 장애 요약 |
| Impact_System | 영향 시스템 |
| Root_Cause | 근본 원인 |
| Resolution | 조치 내용 |
| Severity | 장애 등급 |
| Date | 발생 일자 |

---

## 💬 Streamlit 예시 화면

**입력**  
- SR 제목, 요약, 문서 업로드

**출력**  
- 📊 영향 시스템 예측  
- 🔗 연관 SR 및 장애 목록  
- ⚠️ 리스크 점수 및 설명  
- 💡 추천 개발/검증 가이드  

---

## ⚙️ 환경 설정

### **필수 요구사항**
- Python 3.11 이상 (Python 3.8은 지원되지 않음)
- Azure AI Search 리소스 (선택사항 - 시뮬레이션 모드 지원)
- Azure OpenAI 리소스 (선택사항 - 규칙 기반 평가로 폴백)

### **설치 방법**

1. **의존성 패키지 설치**

Python 3.11을 사용하여 설치하세요:
```bash
python3.11 -m pip install -r requirements.txt
```

또는 Python 3.11이 기본 python으로 설정되어 있다면:
```bash
pip install -r requirements.txt
```

2. **환경 변수 설정**

프로젝트 루트 디렉토리 또는 `project_ktds712` 디렉토리에 `.env` 파일을 생성하고 다음 내용을 작성하세요:

```bash
# Azure AI Search 설정
AZURE_SEARCH_ENDPOINT=https://your-search-service.search.windows.net
AZURE_SEARCH_KEY=your-search-key

# Azure OpenAI 설정
AZURE_OPENAI_ENDPOINT=https://your-openai-service.openai.azure.com
AZURE_OPENAI_KEY=your-openai-key
AZURE_OPENAI_DEPLOYMENT=gpt-4
```

`env_example.txt` 파일을 참고하여 설정할 수 있습니다.

3. **환경 변수 확인**

```bash
python3.11 check_env.py
```

또는:
```bash
python check_env.py
```

이 스크립트는 환경 변수 설정 상태를 확인하고 필요한 설정이 누락되었는지 알려줍니다.

### **설정 없이 실행**

Azure 리소스가 없는 경우에도 실행 가능합니다:
- **AI Search**: 로컬 텍스트 유사도 검색으로 자동 폴백
- **OpenAI**: 규칙 기반 리스크 평가로 자동 폴백

---

## 🧭 개발 일정 (MVP 기준)

| Day | 주요 목표 | 세부 작업 |
|-----|------------|-----------|
| **Day 1** | 핵심 로직 구현 | • Azure AI Search 설정 + 샘플 데이터<br>• SR 유사도 분석 함수<br>• 개선된 리스크 스코어링 로직 |
| **Day 2** | UI 및 통합 | • Streamlit UI 구성<br>• 리스크 점수 시각화<br>• 전체 파이프라인 통합 테스트 |
| **Day 3** | 발표 및 시연 | • 데모 시나리오 준비<br>• 개선된 방법론 설명<br>• 향후 확장 방안 제시 |

---

## 📈 기대 효과

| 항목 | 기존 방식 | 개선된 방식 | 효과 |
|------|-----------|-------------|------|
| **리스크 정확도** | 단순 가중치 합산 | FMEA 기반 다차원 평가 | 🎯 **정확도 30% 향상** |
| **의사결정 지원** | 주관적 판단 | 과학적 근거 기반 | 📊 **객관적 우선순위** |
| **리스크 관리** | 사후 대응 | 예측형 리스크 식별 | ⚡ **조기 대응 가능** |
| **품질 확보** | 개별적 접근 | 통합적 품질 관리 | 🛡️ **재발 방지 효과** |
| **자동화** | 수동 검토 | AI 기반 자동 평가 | ⏱️ **업무 효율 50% 향상** |

---

## ✅ 요약

| 구분 | 내용 |
|------|------|
| **프로젝트명** | **SR Impact Navigator+** |
| **핵심 기능** | SR 영향도 예측 + FMEA 기반 리스크 평가 + 과제 추천 |
| **Azure 기술** | OpenAI, AI Search, Document Intelligence, Streamlit, LangChain |
| **차별 포인트** | 🎯 **과학적 근거 기반 리스크 평가** + 예측형 RAG |
| **개발 일정** | 2일 개발 + 1일 발표 (MVP 검증) |
| **기대 효과** | 리스크 정확도 30% 향상 + 업무 효율 50% 향상 |
| **확장 방향** | 조직 내 개발 과제 선정 및 품질관리 자동화 |

---
